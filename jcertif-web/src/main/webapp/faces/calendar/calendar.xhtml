<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jc="http://jcertif.com/facelets">

<ui:composition template="/templates/template.xhtml">
	<ui:define name="content">
		<jc:pageBanner title="Calendrier de l'evenement" />


		<p:growl id="messages" showDetail="true" />

		<h:form>
			<br></br>
			<div>
			<p:panel style="width: 90%; margin: auto;">

				<p:schedule value="#{agendaBean.eventModel}" widgetVar="myschedule">

					<p:ajax event="dateSelect" listener="#{agendaBean.onDateSelect}"
						update="eventDetails" oncomplete="eventDialog.show()" />
					<p:ajax event="eventSelect" listener="#{agendaBean.onEventSelect}"
						update="eventDetails" oncomplete="eventDialog.show()" />
					<p:ajax event="eventMove" listener="#{agendaBean.onEventMove}"
						update="messages" />
					<p:ajax event="eventResize" listener="#{agendaBean.onEventResize}"
						update="messages" />

				</p:schedule>

				<p:dialog widgetVar="eventDialog" header="Event Details"
					showEffect="clip" hideEffect="clip">
					<h:panelGrid id="eventDetails" columns="2">
						<h:outputLabel for="title" value="Title:" />
						<p:inputText id="title" value="#{agendaBean.event.title}"
							required="true" />

						<h:outputLabel for="from" value="From:" />
						<p:inputMask id="from" value="#{agendaBean.event.startDate}"
							mask="99/99/9999">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</p:inputMask>

						<h:outputLabel for="to" value="To:" />
						<p:inputMask id="to" value="#{agendaBean.event.endDate}"
							mask="99/99/9999">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</p:inputMask>

						<h:outputLabel for="allDay" value="All Day:" />
						<h:selectBooleanCheckbox id="allDay"
							value="#{agendaBean.event.allDay}" />

						<p:commandButton type="reset" value="Reset" />
						<p:commandButton value="Save"
							actionListener="#{agendaBean.addEvent}"
							oncomplete="myschedule.update();eventDialog.hide();" />
					</h:panelGrid>
				</p:dialog>
			</p:panel>
			
			</div>
			<br></br>
		</h:form>

	</ui:define>
</ui:composition>
</html>